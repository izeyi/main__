<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Document</title>
<link href="../osmain/static/css/loader.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" href="css/style.css">
<script src="http://static.namenb.com/web/js/?tcbox" type="text/javascript"></script>
<script type="text/javascript">
	var UrlDo = "http://api.greatorange.cn/box/videos/list/";
  	var _user = store.get('userinfo');
	var _token = store.get('userinfo').token;
  	var _gid = store.get('userinfo').cominfo.gid;
  	var _videotags = store.get('userinfo').cominfo.videotags;
	var searchkey={"pagesize":500,"token":_token,"filter":JSON.stringify({"tags[!]":'["闪传"]'})};
	var default_data={"success": true,"total":0,"videotags":[],"data":[{"ali_vid": "","coverurl": "","gid": "","id": "","sort": "","status": "","tags": "","time": "","title": "","uid": "","url": ""}]};
	function getapidata(_searchkey){
		if(_searchkey && typeof _searchkey == 'object')searchkey['filter'] = JSON.stringify(_searchkey)
		if(_searchkey && typeof _searchkey == 'string')searchkey['filter'] = JSON.stringify({'tags[~]':_searchkey,"tags[!]":'["闪传"]'});
		vmup(caseData,{});
		httpx.get(UrlDo,searchkey,function(d){var _d=JSON.parse(d);if(_d.success){_d['videotags']=_videotags;vmup(caseData,_d)}})
	}
	//loading and
	store.set('mlog','{"mod":"case","info":"打开了天橙案例"}');
	var _LoadingHtml = '<div id="loader-wrapper"><div id="loader"></div><div class="loader-section section-left"></div><div class="loader-section section-right"></div><div class="load_title">技术天橙，缔造完美<br><span></span></div></div>';
	document.write(_LoadingHtml);setInterval(function () {$('body').addClass('loaded');$('#loader-wrapper .load_title').remove();},1500);
	//loading end
</script>
</head>
<body>
<div class="Box" id="caseData">
	<div class="box_lf">
		<img src="images/logo.png" alt="">
		<ul>
			<li @click="getapidata()" class="list_item_title cur">全部视频</li>
			<li v-for="(zz,index) in videotags" :key="index" @click="getapidata(zz)">{{zz}}</li>
			<!-- <li class="list_item_title">全部文档</li> -->
		</ul>
	</div>

	<div class="box_rh">
		<div class="sousou">
			<h1>视频案例</h1>
			<p>Video Case</p>
			<input id="search_input" type="text" placeholder="videos" onchange="searck()" onfocus="this.placeholder='';" onblur="this.placeholder='videos'">
		</div>
		<ul class="case">
			<li v-for="tt in data" v-if="total !== 0">
				<figure  @click="parent.open_video(tt.ali_vid,tt.title)">
					<img :src="tt.coverurl" alt="">
				</figure>
				<p>{{tt.title}}</p>
				<div class="case_box">
					<span>{{tt.click | _click}}</span>
					<span>{{tt.playtime}}</span>
					<!-- <span  @click="copyText(tt.ali_vid)">复制链接</span>
					<span  @click="parent.open_video('0144ff932ac4448ba4d59589d4395639',tt.title)">复制链接</span> -->
				</div>
			</li>
			<li v-else>暂无数据...</li>
		</ul>
	</div>
	<div class="to_ucenter">
		<div class="grid" tooltip="添加视频" onclick="parent.to_ucenter('../ucenter/updata/index.html')">
			<svg t="1558323625164" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3627" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs><style type="text/css"></style></defs><path d="M535.3 586c-0.1-0.1-0.2-0.1-0.3-0.2-4.3-4.4-10.3-7.2-16.9-7.2s-12.6 2.8-16.9 7.2c-0.1 0.1-0.2 0.1-0.3 0.2l-93.5 93.5c-9.2 9.2-9.2 24.2 0 33.4s24.2 9.2 33.4 0l53.7-53.7v273.5c0 13 10.6 23.6 23.6 23.6s23.6-10.6 23.6-23.6V659.3l53.7 53.7c9.2 9.2 24.2 9.2 33.4 0s9.2-24.2 0-33.4L535.3 586z" p-id="3628" fill="#e6e6e6"></path><path d="M758.3 277.1C725.5 157 615.6 68.7 485.1 68.7c-146.4 0-266.8 111-281.7 253.5C83.6 352.3-3.8 464.1 4 594.9c7.4 123.1 101.3 225.9 223.1 245 35.4 5.5 69.5 3.6 101.5-3.9 5.8-1.4 11.5-2.9 17.1-4.6 26.5-8.1 20.6-47.3-7.2-47.3-22.1 7.6-45.9 11.8-70.6 11.8-1.6 0-3.1-0.1-4.7-0.1C145.4 793.2 50.7 697 50.7 578.7c0-97.2 63.8-179.4 151.8-207.2 14.9-4.7 30.6-7.8 46.7-9.2-0.1-3.4-0.3-6.8-0.3-10.3 0-12.7 1-25.1 3-37.3C269.8 202 367.3 115.9 485 115.9c104.6 0 193.2 68 224.2 162.2 4.9 14.9 8.4 30.4 10.2 46.5 6.8-0.6 13.6-0.9 20.5-0.9 9.1 0 18.2 0.6 27 1.6 117.6 13.4 209 113.3 209 234.5 0 128.8-103.2 233.4-231.4 236-1.6 0-3.1 0.1-4.7 0.1-25.8 0-50.5-4.2-73.7-11.8-27.8 0-33.6 39.4-6.9 47.3 5.9 1.7 11.8 3.3 17.8 4.6 20.2 4.6 41.2 7.1 62.8 7.1 156.5 0 283.3-126.8 283.3-283.3 0.3-150.4-116.8-273.3-264.8-282.7z" p-id="3629" fill="#e6e6e6"></path></svg>
		</div>
	</div>
</div>
<!--播放器dom-->
<div id="player" class="hide">
</div>
<!--播放器end-->
<script>
var caseData = new Vue({el: '#caseData',data:default_data,updated:function (){
	$('.box_lf li').on('click',function(){$(this).addClass('cur').siblings().removeClass('cur')});
}});//创建VUE更新区域
getapidata();//默认请求
// 复制的方法
function copyText(text){ // text: 要复制的内容， callback: 回调
   var tag = document.createElement('input');
   tag.setAttribute('id', 'cp_zt_input');
   tag.value = 'http://tcos.chinavcr.com/an/index.html?vid='+text;
   document.getElementsByTagName('body')[0].appendChild(tag);
   document.getElementById('cp_zt_input').select();
   document.execCommand('copy');
   document.getElementById('cp_zt_input').remove();
   msg('复制成功,进入浏览器打开！')
};
function searck(){
	var _value = search_input.value;
	getapidata({"OR":{"tags[~]":_value,"title[~]":_value},"tags[!]":'["闪传"]'});
}

</script>
</body>
</html>